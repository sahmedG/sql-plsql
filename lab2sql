SELECT
               DIAGNOSTIC_SPECIMEN.DIAG_SPECIMEN_ID,
               decode(PROVIDER_ORDER.PRIORITY, 3, 'S', 'R') PRIORITY ,
               DIAGNOSTIC_SPECIMEN.SPECIMEN_TYPE,
               DIAGNOSTIC_SPECIMEN.LABEL_SECTION,
               DIAGNOSTIC_SPECIMEN.LABEL_TESTS,
               VISIT_TYPE.VISIT_TYPE_CODE,
               SPECIALTY.ACRONYM,
               BED_DETAILS.WARD_CODE,
               PROVIDER_ORDER.PATIENT,
               PERSON.FIRST_NAME,
               PERSON.LAST_NAME,
               DIAGNOSTIC_SPECIMEN_STATUS.SPECIMEN_STATUS_CODE,
               LAB_SPEC_CONT_TYPE.CONTAINER_COLOR_CODE,
               LAB_SPEC_CONT_TYPE.CONTAINER_TYPE_CODE,
               LAB_SPECIMEN_CONFIG.SPECIMEN_CONFIG_NAME,
               DIAGNOSTIC_SPECIMEN.CREATED_ON,
               DIAGNOSTIC_SPECIMEN.UPDATED_ON, 
    to_char(DIAGNOSTIC_SPECIMEN.CREATED_ON, 'DDMONYY HH24:MI') SPECIMEN_CREATION_STR, 
    to_char(DIAGNOSTIC_SPECIMEN.UPDATED_ON, 'DDMONYY HH24:MI') SPECIMEN_UPDATE_STR,
    apex_util.prepare_url
        ('f?p=' || v('APP_ID') || ':7090:' || v('APP_SESSION') || '::&DEBUG.:7090:' || 
          'P7090_PATIENT_ID,P7090_VISIT,P7090_ORDER,P7090_SPECIMEN:' ||
         PERSON.PERSON_ID || ',' || PROVIDER_ORDER.VISIT || ',' 
          || 
          PROVIDER_ORDER.PROVIDER_ORDER_ID || ',' || DIAG_SPECIMEN_ID) specimen_validation_url
FROM
               DIAGNOSTIC_SPECIMEN DIAGNOSTIC_SPECIMEN 
                              INNER JOIN PROVIDER_ORDER PROVIDER_ORDER ON DIAGNOSTIC_SPECIMEN.PROVIDER_ORDER = PROVIDER_ORDER.PROVIDER_ORDER_ID 
                              INNER JOIN VISIT VISIT                  ON PROVIDER_ORDER.VISIT = VISIT.VISIT_ID 
                              INNER JOIN VISIT_TYPE VISIT_TYPE                         ON VISIT.VISIT_TYPE = VISIT_TYPE.VISIT_TYPE_ID 
                              INNER JOIN SPECIALTY SPECIALTY                            ON VISIT.PRIMARY_SPECIALTY = SPECIALTY.SPECIALTY_ID 
                              LEFT OUTER JOIN BED_OCCUPANCY BED_OCCUPANCY                   ON VISIT.VISIT_ID = BED_OCCUPANCY.VISIT 
                              LEFT OUTER JOIN BED_DETAILS BED_DETAILS                     ON BED_OCCUPANCY.BED = BED_DETAILS.BED_ID 
                              INNER JOIN PERSON PERSON                     ON PROVIDER_ORDER.PATIENT = PERSON.PERSON_ID 
                              INNER JOIN LAB_SPECIMEN_CONFIG LAB_SPECIMEN_CONFIG                    ON DIAGNOSTIC_SPECIMEN.LAB_SPECIMEN_CONFIG = LAB_SPECIMEN_CONFIG.SPECIMEN_CONFIG_ID 
                              INNER JOIN LAB_SPEC_CONT_TYPE LAB_SPEC_CONT_TYPE                          ON LAB_SPECIMEN_CONFIG.SPECIMEN_CONTAINER = LAB_SPEC_CONT_TYPE.CONTAINER_TYPE_ID 
                              INNER JOIN LAB_SPECIMEN_TYPE LAB_SPECIMEN_TYPE                ON DIAGNOSTIC_SPECIMEN.SPECIMEN_TYPE = LAB_SPECIMEN_TYPE.LAB_SPECIMEN_TYPE_ID 
                              INNER JOIN DIAGNOSTIC_SPECIMEN_STATUS DIAGNOSTIC_SPECIMEN_STATUS                               ON DIAGNOSTIC_SPECIMEN.SPECIMEN_STATUS = DIAGNOSTIC_SPECIMEN_STATUS.SPECIMEN_STATUS_ID
where 
           -- VISIT.PATIENT ='999995372'
  --  and
      -- DIAGNOSTIC_SPECIMEN_STATUS.SPECIMEN_STATUS_CODE = 'VALIDATED'   
 VISIT.VISIT_ID ='102372';
select * from visit where patient = 110814312;